<!-- Include header template -->
<%- include("templates/header") %>

<!-- Styling Section -->
<style>
    /* Styling for the content wrapper */
    .content-wrapper {
        background-color: rgba(255, 255, 255, 0.8);
        padding: 20px;
        border-radius: 15px;
    }

    /* Styling for heading */
    h2 {
        font-weight: 700;
    }

    /* Styling for anchor tags */
    a {
        text-decoration: none;
    }

    /* Styling for hover effect on anchor tags */
    a:hover {
        text-decoration: underline;
    }

    /* Styling for custom list group items */
    .list-group-item-custom {
        background-color: rgba(255, 204, 0, 0.5);
    }
</style>

<!-- Loading Spinner -->
<div id="loading-spinner" style="display: none; position: fixed; z-index: 999; height: 100%; width: 100%; top: 0; left: 0; background-color: rgba(255, 255, 255, 0.8);">
    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
      <img src="/img/spinner.gif" alt="Loading...">
    </div>
</div>

<!-- Content Section -->
<% if (recipes.length > 0) { %>
    <div class="container mt-5">
        <div class="content-wrapper">
            <h2>Recipes</h2>
            <ul class="list-group">
                <% recipes.forEach(function(recipe) { %>
                    <li class="list-group-item list-group-item-custom">
                        <a href="/recipe/<%= encodeURIComponent(recipe) %>"><%= recipe %></a>
                    </li>
                <% }); %>
            </ul>
        </div>
    </div>
<% } %>

<!-- JavaScript Section -->
<script>
    // Function to show the loading spinner
    function showSpinner() {
        document.getElementById('loading-spinner').style.display = 'block';
    }
  
    // Attach event listener to all anchor tags
    document.querySelectorAll('a').forEach(function(link) {
        link.addEventListener('click', function(event) {
            showSpinner(); // Show the spinner
        });
    });
  
    // Show the spinner before leaving the page
    window.addEventListener('beforeunload', function() {
        showSpinner(); // Show the spinner
    });
</script>

<!-- Include footer template -->
<%- include("templates/footer") %>
